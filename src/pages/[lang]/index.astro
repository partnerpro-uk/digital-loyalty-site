---
// Localized landing page following the Landing Page Blueprint
import Navigation from '../../components/Navigation.astro';
import Hero from '../../components/Hero.astro';
import SocialProof from '../../components/SocialProof.astro';
import ProblemSolution from '../../components/ProblemSolution.astro';
import BentoFeatures from '../../components/BentoFeatures.astro';
import VideoSection from '../../components/VideoSection.astro';
import Gallery from '../../components/Gallery.astro';
import HowItWorks from '../../components/HowItWorks.astro';
import Testimonials from '../../components/Testimonials.astro';
import DynamicPricing from '../../components/DynamicPricing.astro';
import FAQ from '../../components/FAQ.astro';
import FinalCTA from '../../components/FinalCTA.astro';
import Footer from '../../components/Footer.astro';
import Layout from '../../layouts/Layout.astro';
import { locales, defaultLocale } from '../../../astro-i18next.config';
import i18next from '../../i18next.config';

const { changeLanguage } = i18next;

export function getStaticPaths() {
  // Exclude default locale (en) since it's served at root /
  return locales
    .filter((lang) => lang !== defaultLocale)
    .map((lang) => ({
      params: { lang },
    }));
}

const { lang } = Astro.params;
await changeLanguage(lang);
---

<Layout>
	<Navigation />

	<main>
		<!-- Above the fold -->
		<Hero />

		<!-- Social proof strip -->
		<SocialProof />

		<!-- Problem-Agitate-Solution framework -->
		<ProblemSolution />

		<!-- Features in bento grid layout -->
		<BentoFeatures />

		<!-- Video sales letter / demo -->
		<VideoSection
			videoUrl="https://www.youtube.com/embed/dQw4w9WgXcQ"
			thumbnailUrl="/phone-hero.avif"
		/>

		<!-- Visual gallery of card designs -->
		<Gallery />

		<!-- How it works - 3-step process -->
		<HowItWorks />

		<!-- Customer testimonials from Sanity -->
		<Testimonials />

		<!-- Pricing section -->
		<DynamicPricing />

		<!-- FAQ accordion with schema.org markup -->
		<FAQ />

		<!-- Final conversion section -->
		<FinalCTA />
	</main>

	<Footer />
</Layout>
